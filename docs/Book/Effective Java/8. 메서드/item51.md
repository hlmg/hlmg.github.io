# Item51. 메서드 시그니처를 신중히 설계하라

책에서 소개하는 API 설계 요령은 다음과 같다.

## 1. 메서드 이름을 신중히 짓자.

항상 표준 명명 규칙(item 68)을 따라야 한다.

개발자 커뮤니티에서 널리 사용되는 이름을 쓰거나, 자바 라이브러리의 API 가이드를 참고하자.

## 2. 편의 메서드를 너무 많이 만들지 말자.

이 책에서 말하는 편의 메서드가 어떤 메서드를 의미하는지 헷갈렸는데, 내가 해석한 편의 메서드의 정의는 다음과 같다.

> 특정 클라이언트의 편의를 위해서 제공하는 부수적인 메서드

객체에게 반드시 필요한 메서드가 아니기 때문에 모든 클라이언트가 사용하지 않는 메서드가 추가로 생기게 되고, 클라이언트가 많아질수록 편의 메소드는 점점 늘어나게 된다.

public 메소드는 테스트를 반드시 작성해야 하기 때문에 API 제공자 입장에서도 번거롭고 사용자 입장에서도 다양한 API가 노출되어 있어서 어떤 API를 사용할 지 고민하게 된다.

아주 자주 사용되는 기능에 대해서만 편의 메서드를 제공하고, 확신이 서지 않으면 만들지 말자.

## 3. 매개변수 목록은 짧게 유지하자.

매개변수가 적을수록 사용하기 편하다. 같은 타입의 매개변수가 연달아 나오는 경우 특히 주의해야 하는데, 사용자가 실수로 순서를 바꿔 입력해도 그대로 컴파일되고 실행되기 때문이다.

다음은 책에서 소개하는 매개변수 목록을 짧게 줄여주는 기술이다.

### 3.1. 여러 매서드로 쪼개기

리스트에서 특정 원소의 인덱스를 찾는데, 지정된 범위의 부분 리스트에서의 인덱스를 찾아야 한다고 가정해보자. 리스트 API 작성자는 이 기능을 위해 다음과 같은 메서드를 제공할 수 있다.
```java
int subListIndexOf(int fromIndex, int toIndex, Object o) { ... };
```
총 3개의 매개변수가 필요한데, 다음처럼 두 가지 메서드로 쪼갤 수 있다.
```java
List<E> subList(int fromIndex, int toIndex) { ... };
int IndexOf(Object o) { ... };
```

기능을 원자적으로 쪼개면, 자연스럽게 중복은 줄고 결합도는 높아진다. 코드를 수정하고 테스트하기도 수월해진다.

그렇다고 무한정 나누는 게 능사는 아닌데, API가 다루는 개념적 추상화 수준에 맞게 조절해야 한다. 특정 조합의 패턴이 자주 사용되거나 최적화하여 성능을 개선할 수 있다면 직교성이 낮아지더라도 편의 기능으로 제공하는 편이 나을 수도 있다.

### 3.2. 도우미 클래스 작성

도우미 클래스는 정적 멤버 클래스(item 24)로 둔다. 매개변수 몇 개를 독립된 하나의 개념으로 볼 수 있을 때 추천하는 기법이다.

예를들어 카드게임에서 숫자와 무늬를 뜻하는 두 매개변수를 카드라는 도우미 클래스를 만들어 주고받을 수 있다.

### 3.3. 빌더 패턴 응용

매개변수가 많고 특정 매개변수는 생략해도 되는 경우, 생성자에서 사용했던 빌더 패턴을 응용할 수 있다. 모든 매개변수를 추상화한 클래스를 정의한 뒤 클라이언트는 빌더를 사용해서 객체를 생성하고 넘기면 된다.

## 4. 구현체 대신 인터페이스를 사용하자.

인터페이스 대신 구현체를 사용하면 클라이언트가 특정 구현체만 사용하게 제한하는 꼴이고, 입력 데이터가 다른 구현체로 데이터를 가지고 있는 경우 메소드에 명시한 특정 구현체로 데이터를 옮겨 닮은 불필요한 과정이 수행될 수 있다.

## 5. boolean 보다 열거 타입이 낫다.
메서드 이름상 boolean을 받아야 의미가 더 명확한 경우를 제외하고는 2개의 원소를 가진 열거 타입을 사용하자.

열거 타입을 사용하면 코드의 가독성이 높아지고 나중에 선택지를 추가하기도 쉽다. 각 타입에 대한 메서드가 필요한 경우 열거 타입 상수 각각에 정의할 수도 있다.
